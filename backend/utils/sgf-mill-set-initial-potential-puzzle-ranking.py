from sgfmill import sgf

def get_ranks_from_sgf(sgf_data):

    sgf_game = sgf.Sgf_game.from_string(sgf_data)
    game_info = sgf_game.get_root().get_raw_property_map()
    # Extract the rank and convert from byte string to regular string
    black_rank = game_info.get('BR', [None])[0]
    if black_rank is not None:
        black_rank = black_rank.decode('utf-8')

    white_rank = game_info.get('WR', [None])[0]
    if white_rank is not None:
        white_rank = white_rank.decode('utf-8')

    return black_rank, white_rank


sgf_data = "(;GM[1]FF[4]CA[UTF-8]AP[CGoban:3]ST[2] RU[Japanese]SZ[19]HA[4]KM[0.50]TM[300]OT[3x20 byo-yomi] PW[fastgun]PB[cartus]WR[5d]BR[1d]DT[2023-11-30]PC[The KGS Go Server at http://www.gokgs.com/]AB[dd][pd][dp][pp]RE[W+Resign] ;W[qn]WL[297.647]C[cartus [1d\]: hi fastgun [5d\]: hi ] ;B[qo]BL[293.765] ;W[pn]WL[295.95] ;B[nq]BL[292.278] ;W[qf]WL[292.713] ;B[pi]BL[289.739] ;W[of]WL[290.86] ;B[nd]BL[288.04] ;W[ni]WL[287.642] ;B[nj]BL[286.577] ;W[mi]WL[284.896] ;B[oj]BL[285.321] ;W[lc]WL[280.338] ;B[ld]BL[282.142] ;W[kd]WL[278.729] ;B[le]BL[280.782] ;W[mc]WL[277.28] ;B[nc]BL[279.631] ;W[rd]WL[276.27] ;B[nn]BL[273.096] ;W[oo]WL[267.764] ;B[mo]BL[270.514] ;W[qq]WL[260.535] ;B[pq]BL[262.72] ;W[ro]WL[258.613] ;B[qp]BL[261.65] ;W[rm]WL[249.867] ;B[rp]BL[259.875] ;W[ri]WL[246.113] ;B[rj]BL[252.925] ;W[qj]WL[243.871] ;B[qi]BL[252.031] ;W[rk]WL[242.393] ;B[rh]BL[251.141] ;W[sj]WL[241.391] ;B[qg]BL[249.536] ;W[pg]WL[237.217] ;B[rf]BL[244.902] ;W[qe]WL[234.457] ;B[qd]BL[242.507] ;W[re]WL[232.243] ;B[hc]BL[236.69] ;W[ke]WL[227.535] ;B[lf]BL[234.149] ;W[qc]WL[221.232] ;B[pc]BL[232.084] ;W[qb]WL[220.268] ;B[kf]BL[226.115] ;W[id]WL[216.477] ;B[jf]BL[219.238] ;W[hd]WL[206.402] ;B[gc]BL[217.154] ;W[ic]WL[202.625] ;B[md]BL[215.233] ;W[hf]WL[195.046] ;B[ji]BL[212.997] ;W[mj]WL[180.758] ;B[mk]BL[205.636] ;W[lk]WL[166.377] ;B[ml]BL[202.728] ;W[ol]WL[163.464] ;B[nk]BL[198.576] ;W[kh]WL[154.663] ;B[jh]BL[196.68] ;W[ig]WL[153.174] ;B[jg]BL[194.776] ;W[hi]WL[150.176] ;B[ij]BL[187.557] ;W[cc]WL[143.622] ;B[cd]BL[184.23] ;W[dc]WL[142.576] ;B[ec]BL[183.002] ;W[eb]WL[140.651] ;B[fc]BL[182.342] ;W[bd]WL[138.754] ;B[be]BL[181.134] ;W[bc]WL[137.696] ;B[cf]BL[180.367] ;W[ee]WL[134.822] ;B[ed]BL[178.601] ;W[hj]WL[130.637] ;B[ik]BL[172.321] ;W[ch]WL[128.946] ;B[dg]BL[144.459] ;W[dh]WL[125.667] ;B[fg]BL[142.504] ;W[eh]WL[123.468] ;B[fb]BL[133.637] ;W[db]WL[121.194] ;B[fe]BL[131.91] ;W[gl]WL[107.852] ;B[oh]BL[119.757] ;W[ng]WL[100.448] ;B[nh]BL[116.608] ;W[mh]WL[94.924] ;B[pj]BL[103.019] ;W[ph]WL[88.597] ;B[qk]BL[98.93] ;W[rj]WL[85.534] ;B[qh]BL[84.194] ;W[pk]WL[75.309] ;B[oi]BL[79.338] ;W[mf]WL[59.748] ;B[ll]BL[55.21] ;W[cn]WL[56.175] ;B[em]BL[51.854] ;W[eo]WL[53.521] ;B[do]BL[46.323] ;W[dn]WL[51.154] ;B[en]BL[45.633] ;W[fo]WL[49.263] ;B[fq]BL[43.866] ;W[gn]WL[45.19] ;B[cl]BL[41.907] ;W[bp]WL[37.852] ;B[fh]BL[35.012] ;W[fi]WL[34.962] ;B[hh]BL[27.606] ;W[ih]WL[26.217] ;B[hg]BL[24.752] ;W[ii]WL[19.93] ;B[if]BL[17.438] ;W[eg]WL[16.723] ;B[ef]BL[13.732] ;W[nb]WL[20]OW[2] ;B[ob]BL[8.903] ;W[ma]WL[20]OW[2] ;B[ei]BL[20]OB[3] ;W[fj]WL[20]OW[2] ;B[bq]BL[20]OB[3] ;W[bn]WL[20]OW[2] ;B[cp]BL[20]OB[3] ;W[bl]WL[20]OW[2] ;B[bk]BL[20]OB[3] ;W[ck]WL[20]OW[2] ;B[cj]BL[20]OB[3] ;W[dk]WL[20]OW[2] ;B[dj]BL[20]OB[3] ;W[bj]WL[20]OW[2] ;B[ek]BL[20]OB[3] ;W[ak]WL[20]OW[2] ;B[dl]BL[20]OB[3] ;W[bk]WL[20]OW[2] ;B[ej]BL[20]OB[3] ;W[fl]WL[20]OW[2] ;B[el]BL[20]OB[3] ;W[gq]WL[20]OW[2] ;B[gr]BL[20]OB[3] ;W[hq]WL[20]OW[2] ;B[ql]BL[20]OB[3] ;W[pl]WL[20]OW[2] ;B[kb]BL[20]OB[3] ;W[kc]WL[20]OW[2] ;B[so]BL[20]OB[3] ;W[ib]WL[20]OW[2] ;B[rn]BL[20]OB[3] ;W[sm]WL[20]OW[2] ;B[fp]BL[20]OB[3] ;W[gp]WL[20]OW[2] ;B[io]BL[20]OB[3] ;W[hr]WL[20]OW[2] ;B[oa]BL[20]OB[3] ;W[gf]WL[20]OW[2] ;B[ff]BL[20]OB[3] ;W[je]WL[20]OW[2] ;B[bh]BL[20]OB[3] ;W[bi]WL[20]OW[2] ;B[bg]BL[20]OB[3] ;W[ci]WL[20]OW[2] ;B[hb]BL[20]OB[3] ;W[co]WL[20]OW[2] ;B[ap]BL[20]OB[3] ;W[bo]WL[20]OW[2] ;B[fr]BL[20]OB[3] ;W[ep]WL[20]OW[2] ;B[dq]BL[20]OB[3] ;W[eq]WL[20]OW[2] ;B[er]BL[20]OB[3] ;W[dr]WL[20]OW[2] ;B[cq]BL[20]OB[3] ;W[lq]WL[20]OW[2] ;B[ho]BL[20]OB[3] ;W[go]WL[20]OW[2] ;B[jq]BL[20]OB[3] ;W[jr]WL[20]OW[2] ;B[ir]BL[20]OB[3] ;W[kr]WL[20]OW[2] ;B[iq]BL[20]OB[3] ;W[is]WL[20]OW[2] ;B[js]BL[20]OB[3] ;W[hs]WL[20]OW[2] ;B[mr]BL[20]OB[3] ;W[cr]WL[20]OW[2] ;B[br]BL[20]OB[3] ;W[gs]WL[20]OW[2] ;B[cs]BL[20]OB[3] ;W[es]WL[20]OW[2] ;B[ds]BL[20]OB[3] ;W[dr]WL[20]OW[2] ;B[og]BL[20]OB[3] ;W[pf]WL[20]OW[2] ;B[lg]BL[20]OB[3] ;W[mg]WL[20]OW[2] ;B[ra]BL[20]OB[3] ;W[qa]WL[20]OW[2] ;B[rb]BL[20]OB[3] ;W[rc]WL[20]OW[2] ;B[se]BL[20]OB[3] ;W[kk]WL[20]OW[2] ;B[lj]BL[20]OB[3] ;W[kl]WL[20]OW[2] ;B[im]BL[20]OB[3] ;W[kn]WL[20]OW[2] ;B[ko]BL[20]OB[3] ;W[ln]WL[20]OW[2] ;B[mn]BL[20]OB[3] ;W[lo]WL[20]OW[2] ;B[kj]BL[20]OB[3] ;W[lm]WL[20]OW[2] ;B[nl]BL[20]OB[3] ;W[mp]WL[20]OW[2] ;B[np]BL[20]OB[3] ;W[no]WL[20]OW[2] ;B[on]BL[20]OB[3] ;W[po]WL[20]OW[2] ;B[om]BL[20]OB[3] ;W[rl]WL[20]OW[2] ;B[mm]BL[20]OB[3] ;W[sd]WL[20]OW[2] ;B[sb]BL[20]OB[3] ;W[sf]WL[20]OW[2] ;B[sg]BL[20]OB[3] ;W[rg]WL[20]OW[2] ;B[fk]BL[20]OB[2] ;W[gk]WL[20]OW[2] ;B[rf]BL[20]OB[2] ;W[si]WL[20]OW[2] ;B[sh]BL[20]OB[2] ;W[rg]WL[20]OW[2] ;B[nf]BL[20]OB[2] ;W[ne]WL[20]OW[2] ;B[rf]BL[20]OB[2] ;W[se]WL[20]OW[2] ;B[me]BL[20]OB[2] ;W[pm]WL[20]OW[2] ;B[oe]BL[20]OB[2] ;W[nf]WL[20]OW[2] ;B[pb]BL[20]OB[2] ;W[lh]WL[20]OW[2]C[fastgun [5d\]: tx cartus [1d\]: th ])"
black_rank, white_rank = get_ranks_from_sgf(sgf_data)
print("Black Rank:", black_rank)
print("White Rank:", white_rank)
